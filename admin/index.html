<!DOCTYPE html>

<html class="" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>QbyTen Admin Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<!-- Tailwind CSS CDN -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        primary: "#3680f7",
        "background-light": "#f5f7f8",
        "background-dark": "#101722"
      },
      fontFamily: {
        display: ["Inter", "sans-serif"]
      },
      borderRadius: {
        DEFAULT: "0.25rem",
        lg: "0.5rem",
        xl: "0.75rem",
        full: "9999px"
      }
    }
  }
};
</script>
<style>
    .material-symbols-outlined {
      font-variation-settings:
      'FILL' 0,
      'wght' 400,
      'GRAD' 0,
      'opsz' 24
    }
  </style>
  <!-- Widget System CSS -->
  <link rel="stylesheet" href="widget-system.css">
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-gray-800 dark:text-gray-200">
<!-- Mobile Sidebar Overlay -->
<div id="mobile-sidebar-overlay" class="lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

<div class="flex h-screen">
<aside id="sidebar" class="w-64 flex-shrink-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col fixed lg:relative inset-y-0 left-0 z-50 transform transition-transform duration-300 ease-in-out -translate-x-full lg:translate-x-0">
<div class="flex items-center h-16 px-6 border-b border-gray-200 dark:border-gray-700">
<h1 class="text-xl font-bold text-gray-900 dark:text-white">QbyTen</h1>
</div>
<nav class="flex-1 px-4 py-4 space-y-2">
<a class="flex items-center px-4 py-2 text-sm font-medium rounded-lg bg-blue-50 dark:bg-blue-900/50 text-primary" href="#">
<span class="material-symbols-outlined mr-3">dashboard</span>
          Dashboard
        </a>
<a class="flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" href="#">
<span class="material-symbols-outlined mr-3">key</span>
          Token
        </a>
<a class="flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" href="#">
<span class="material-symbols-outlined mr-3">monitoring</span>
          Status
        </a>
<a class="flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" href="#">
<span class="material-symbols-outlined mr-3">settings</span>
          Settings
        </a>
<a class="flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" href="#">
<span class="material-symbols-outlined mr-3">menu</span>
          Navigation
        </a>
<a class="flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" href="#">
<span class="material-symbols-outlined mr-3">inventory_2</span>
          Products
        </a>
<a class="flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" href="#">
<span class="material-symbols-outlined mr-3">build</span>
          Services
        </a>
</nav>
</aside>
<main class="flex-1 flex flex-col overflow-y-auto">
<header class="flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10">
<div>
<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Executive Dashboard</h2>
</div>
<div class="flex items-center space-x-4">
<button class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 relative">
<span class="material-symbols-outlined">notifications</span>
<span class="absolute top-2 right-2 block h-2 w-2 rounded-full bg-red-500"></span>
</button>
<button id="logout-btn" class="flex items-center px-3 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors" title="Logout">
<span class="material-symbols-outlined mr-2">logout</span>
<span class="hidden sm:inline">Logout</span>
</button>
<button id="mobile-menu-toggle" class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 lg:hidden">
<span class="material-symbols-outlined text-3xl">menu</span>
</button>
<div class="lg:hidden">
<span class="material-symbols-outlined text-3xl text-gray-500 dark:text-gray-400">account_circle</span>
</div>
</div>
</header>
<div class="p-4 sm:p-6 lg:p-8">
  <!-- Widget Dashboard Controls -->
  <div class="mb-6 flex justify-between items-center">
    <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Widget Dashboard</h2>
    <div class="flex space-x-2">
      <button id="reset-layout-btn" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
        <span class="material-symbols-outlined text-sm mr-2">refresh</span>
        Reset Layout
      </button>
      <button id="add-widget-btn" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-colors">
        <span class="material-symbols-outlined text-sm mr-2">add</span>
        Add Widget
      </button>
    </div>
  </div>

  <!-- Widget Container -->
  <div id="widget-container" class="relative w-full" style="height: 800px; min-height: 600px;">
    <!-- Widgets will be dynamically added here -->
  </div>

  <!-- Add Widget Modal -->
  <div id="add-widget-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full">
      <div class="flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
        <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Add Widget</h3>
        <button id="close-add-widget-modal" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <div class="p-6">
        <div class="grid grid-cols-2 gap-4">
          <button class="widget-option p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors" data-widget-id="system-status">
            <span class="material-symbols-outlined text-primary text-2xl mb-2">monitoring</span>
            <p class="text-sm font-medium">System Status</p>
          </button>
          <button class="widget-option p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors" data-widget-id="admin-token">
            <span class="material-symbols-outlined text-primary text-2xl mb-2">key</span>
            <p class="text-sm font-medium">Admin Token</p>
          </button>
          <button class="widget-option p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors" data-widget-id="products">
            <span class="material-symbols-outlined text-primary text-2xl mb-2">inventory_2</span>
            <p class="text-sm font-medium">Products</p>
          </button>
          <button class="widget-option p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors" data-widget-id="services">
            <span class="material-symbols-outlined text-primary text-2xl mb-2">build</span>
            <p class="text-sm font-medium">Services</p>
          </button>
          <button class="widget-option p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors" data-widget-id="navigation">
            <span class="material-symbols-outlined text-primary text-2xl mb-2">menu</span>
            <p class="text-sm font-medium">Navigation</p>
          </button>
          <button class="widget-option p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors" data-widget-id="settings">
            <span class="material-symbols-outlined text-primary text-2xl mb-2">settings</span>
            <p class="text-sm font-medium">Settings</p>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
</main>
<nav class="lg:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-around">
<a class="flex flex-col items-center justify-center w-full pt-2 pb-1 text-primary" href="#">
<span class="material-symbols-outlined">key</span>
<span class="text-xs">Token</span>
</a>
<a class="flex flex-col items-center justify-center w-full pt-2 pb-1 text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary" href="#">
<span class="material-symbols-outlined">monitoring</span>
<span class="text-xs">Status</span>
</a>
<a class="flex flex-col items-center justify-center w-full pt-2 pb-1 text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary" href="#">
<span class="material-symbols-outlined">inventory_2</span>
<span class="text-xs">Products</span>
</a>
<a class="flex flex-col items-center justify-center w-full pt-2 pb-1 text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary" href="#">
<span class="material-symbols-outlined">build</span>
<span class="text-xs">Services</span>
</a>
</nav>
</div>
<!-- Admin Panel JavaScript -->
<script src="admin.js"></script>
<!-- Modals -->
<!-- Add Product Modal -->
<div id="add-product-modal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="add-product-title">
  <div class="modal-content">
    <button class="modal-close" data-modal-close aria-label="Kapat">&times;</button>
    
    <div class="modal-header">
      <h2 id="add-product-title">Yeni Ürün Ekle</h2>
      <p class="subtitle">Sistemimize yeni bir ürün ekleyin</p>
    </div>
    
    <div class="modal-body">
      <form class="modal-form" id="add-product-form">
        <div class="form-group">
          <label for="product-code">Ürün Kodu</label>
          <input type="text" id="product-code" name="code" class="form-input" placeholder="Örn: PRD-002" required>
        </div>
        
        <div class="form-group">
          <label for="product-name">Ürün Adı</label>
          <input type="text" id="product-name" name="name" class="form-input" placeholder="Ürün adını girin" required>
        </div>
        
        <div class="form-group">
          <label for="product-category">Kategori</label>
          <select id="product-category" name="category" class="form-select" required>
            <option value="">Kategori seçin</option>
            <option value="e-fatura">e-Fatura</option>
            <option value="e-arsiv">e-Arşiv</option>
            <option value="e-defter">e-Defter</option>
            <option value="other">Diğer</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="product-description">Açıklama</label>
          <textarea id="product-description" name="description" class="form-textarea" placeholder="Ürün açıklaması" rows="4"></textarea>
        </div>
        
        <div class="form-group">
          <label for="product-price">Fiyat</label>
          <input type="number" id="product-price" name="price" class="form-input" placeholder="0.00" step="0.01" min="0">
        </div>
        
        <div class="form-group">
          <label for="product-image">Ürün Görseli</label>
          <div class="file-upload">
            <input type="file" id="product-image" name="image" accept="image/*">
            <div class="upload-text">
              <span class="material-symbols-outlined">cloud_upload</span>
              <p>Görsel yüklemek için tıklayın veya sürükleyin</p>
            </div>
          </div>
        </div>
      </form>
    </div>
    
    <div class="modal-buttons">
      <button type="button" class="modal-btn secondary" data-modal-close>İptal</button>
      <button type="submit" form="add-product-form" class="modal-btn primary">Ürün Ekle</button>
    </div>
  </div>
</div>

<!-- Edit Product Modal -->
<div id="edit-product-modal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="edit-product-title">
  <div class="modal-content">
    <button class="modal-close" data-modal-close aria-label="Kapat">&times;</button>
    
    <div class="modal-header">
      <h2 id="edit-product-title">Ürün Düzenle</h2>
      <p class="subtitle">Ürün bilgilerini güncelleyin</p>
    </div>
    
    <div class="modal-body">
      <form class="modal-form" id="edit-product-form">
        <input type="hidden" id="edit-product-id" name="id">
        
        <div class="form-group">
          <label for="edit-product-code">Ürün Kodu</label>
          <input type="text" id="edit-product-code" name="code" class="form-input" required>
        </div>
        
        <div class="form-group">
          <label for="edit-product-name">Ürün Adı</label>
          <input type="text" id="edit-product-name" name="name" class="form-input" required>
        </div>
        
        <div class="form-group">
          <label for="edit-product-category">Kategori</label>
          <select id="edit-product-category" name="category" class="form-select" required>
            <option value="">Kategori seçin</option>
            <option value="e-fatura">e-Fatura</option>
            <option value="e-arsiv">e-Arşiv</option>
            <option value="e-defter">e-Defter</option>
            <option value="other">Diğer</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="edit-product-description">Açıklama</label>
          <textarea id="edit-product-description" name="description" class="form-textarea" rows="4"></textarea>
        </div>
        
        <div class="form-group">
          <label for="edit-product-price">Fiyat</label>
          <input type="number" id="edit-product-price" name="price" class="form-input" step="0.01" min="0">
        </div>
        
        <div class="form-group">
          <label for="edit-product-image">Ürün Görseli</label>
          <div class="file-upload">
            <input type="file" id="edit-product-image" name="image" accept="image/*">
            <div class="upload-text">
              <span class="material-symbols-outlined">cloud_upload</span>
              <p>Görseli güncellemek için tıklayın</p>
            </div>
          </div>
        </div>
      </form>
    </div>
    
    <div class="modal-buttons">
      <button type="button" class="modal-btn secondary" data-modal-close>İptal</button>
      <button type="submit" form="edit-product-form" class="modal-btn primary">Güncelle</button>
    </div>
  </div>
</div>

<!-- Add Service Modal -->
<div id="add-service-modal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="add-service-title">
  <div class="modal-content">
    <button class="modal-close" data-modal-close aria-label="Kapat">&times;</button>
    
    <div class="modal-header">
      <h2 id="add-service-title">Yeni Hizmet Ekle</h2>
      <p class="subtitle">Sistemimize yeni bir hizmet ekleyin</p>
    </div>
    
    <div class="modal-body">
      <form class="modal-form" id="add-service-form">
        <div class="form-group">
          <label for="service-code">Hizmet Kodu</label>
          <input type="text" id="service-code" name="code" class="form-input" placeholder="Örn: SVC-002" required>
        </div>
        
        <div class="form-group">
          <label for="service-name">Hizmet Adı</label>
          <input type="text" id="service-name" name="name" class="form-input" placeholder="Hizmet adını girin" required>
        </div>
        
        <div class="form-group">
          <label for="service-type">Hizmet Türü</label>
          <select id="service-type" name="type" class="form-select" required>
            <option value="">Hizmet türü seçin</option>
            <option value="e-fatura">e-Fatura</option>
            <option value="e-arsiv">e-Arşiv</option>
            <option value="e-defter">e-Defter</option>
            <option value="e-sm">e-SMM</option>
            <option value="other">Diğer</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="service-description">Açıklama</label>
          <textarea id="service-description" name="description" class="form-textarea" placeholder="Hizmet açıklaması" rows="4"></textarea>
        </div>
        
        <div class="form-group">
          <label for="service-price">Fiyat</label>
          <input type="number" id="service-price" name="price" class="form-input" placeholder="0.00" step="0.01" min="0">
        </div>
        
        <div class="form-group">
          <label for="service-icon">İkon</label>
          <select id="service-icon" name="icon" class="form-select">
            <option value="">İkon seçin</option>
            <option value="receipt">Fiş</option>
            <option value="description">Belge</option>
            <option value="inventory">Envanter</option>
            <option value="settings">Ayarlar</option>
            <option value="build">Yapı</option>
            <option value="other">Diğer</option>
          </select>
        </div>
      </form>
    </div>
    
    <div class="modal-buttons">
      <button type="button" class="modal-btn secondary" data-modal-close>İptal</button>
      <button type="submit" form="add-service-form" class="modal-btn primary">Hizmet Ekle</button>
    </div>
  </div>
</div>

<!-- Edit Service Modal -->
<div id="edit-service-modal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="edit-service-title">
  <div class="modal-content">
    <button class="modal-close" data-modal-close aria-label="Kapat">&times;</button>
    
    <div class="modal-header">
      <h2 id="edit-service-title">Hizmet Düzenle</h2>
      <p class="subtitle">Hizmet bilgilerini güncelleyin</p>
    </div>
    
    <div class="modal-body">
      <form class="modal-form" id="edit-service-form">
        <input type="hidden" id="edit-service-id" name="id">
        
        <div class="form-group">
          <label for="edit-service-code">Hizmet Kodu</label>
          <input type="text" id="edit-service-code" name="code" class="form-input" required>
        </div>
        
        <div class="form-group">
          <label for="edit-service-name">Hizmet Adı</label>
          <input type="text" id="edit-service-name" name="name" class="form-input" required>
        </div>
        
        <div class="form-group">
          <label for="edit-service-type">Hizmet Türü</label>
          <select id="edit-service-type" name="type" class="form-select" required>
            <option value="">Hizmet türü seçin</option>
            <option value="e-fatura">e-Fatura</option>
            <option value="e-arsiv">e-Arşiv</option>
            <option value="e-defter">e-Defter</option>
            <option value="e-sm">e-SMM</option>
            <option value="other">Diğer</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="edit-service-description">Açıklama</label>
          <textarea id="edit-service-description" name="description" class="form-textarea" rows="4"></textarea>
        </div>
        
        <div class="form-group">
          <label for="edit-service-price">Fiyat</label>
          <input type="number" id="edit-service-price" name="price" class="form-input" step="0.01" min="0">
        </div>
        
        <div class="form-group">
          <label for="edit-service-icon">İkon</label>
          <select id="edit-service-icon" name="icon" class="form-select">
            <option value="">İkon seçin</option>
            <option value="receipt">Fiş</option>
            <option value="description">Belge</option>
            <option value="inventory">Envanter</option>
            <option value="settings">Ayarlar</option>
            <option value="build">Yapı</option>
            <option value="other">Diğer</option>
          </select>
        </div>
      </form>
    </div>
    
    <div class="modal-buttons">
      <button type="button" class="modal-btn secondary" data-modal-close>İptal</button>
      <button type="submit" form="edit-service-form" class="modal-btn primary">Güncelle</button>
    </div>
  </div>
</div>

  <!-- Menu Modal -->
  <div id="menu-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
      <div class="flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
        <h3 id="menu-modal-title" class="flex items-center text-xl font-semibold text-gray-900 dark:text-white">
          <span class="material-symbols-outlined mr-2 text-primary">add</span>
          Add New Menu
        </h3>
        <button id="menu-modal-close" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>

      <form id="menu-form" class="p-6 space-y-4">
        <input type="hidden" id="menu-id">

        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Menu Title *</label>
          <input type="text" id="menu-title" class="w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary focus:border-primary text-sm text-gray-700 dark:text-gray-300" placeholder="e.g., Home" required>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">URL</label>
          <input type="text" id="menu-url" class="w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary focus:border-primary text-sm text-gray-700 dark:text-gray-300" placeholder="e.g., / or #section">
          <p class="text-xs text-gray-500 mt-1">You can enter a URL or anchor (#section). If left blank, it becomes a non-clickable header.</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Parent Menu</label>
          <select id="menu-parent" class="w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary focus:border-primary text-sm text-gray-700 dark:text-gray-300">
            <option value="">Main Menu (Not a submenu)</option>
            <!-- Will be populated dynamically -->
          </select>
          <p class="text-xs text-gray-500 mt-1">If you select a parent menu, this menu becomes its submenu.</p>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Sort Order</label>
            <input type="number" id="menu-sort" class="w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary focus:border-primary text-sm text-gray-700 dark:text-gray-300" value="0" min="0">
            <p class="text-xs text-gray-500 mt-1">Lower numbers appear first</p>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Target</label>
            <select id="menu-target" class="w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary focus:border-primary text-sm text-gray-700 dark:text-gray-300">
              <option value="_self">Same Window</option>
              <option value="_blank">New Tab</option>
            </select>
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Icon (Optional)</label>
          <input type="text" id="menu-icon" class="w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary focus:border-primary text-sm text-gray-700 dark:text-gray-300" placeholder="e.g., home">
          <p class="text-xs text-gray-500 mt-1">Material Symbols icon name</p>
        </div>

        <div class="flex items-center">
          <input type="checkbox" id="menu-active" class="w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary" checked>
          <label for="menu-active" class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300">Active (Visible)</label>
        </div>
      </form>

      <div class="flex justify-end space-x-4 p-6 border-t border-gray-200 dark:border-gray-700">
        <button id="menu-cancel" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-md font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">Cancel</button>
        <button id="menu-save" class="bg-primary text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 transition-colors">Save</button>
      </div>
    </div>
  </div>

  <!-- Authentication Check -->
  <script>
    // Check if user is authenticated
    (async function checkAuth() {
      const token = localStorage.getItem('AUTH_TOKEN');

      if (!token) {
        window.location.href = '/admin/login.html';
        return;
      }

      // Verify token is valid
      try {
        const response = await fetch('/api/auth/verify', {
          headers: {
            'Authorization': `Bearer ${token}`
          }
        });

        if (!response.ok) {
          // Token is invalid or expired
          localStorage.removeItem('AUTH_TOKEN');
          localStorage.removeItem('AUTH_USER');
          window.location.href = '/admin/login.html';
          return;
        }

        const data = await response.json();
        if (!data.valid) {
          localStorage.removeItem('AUTH_TOKEN');
          localStorage.removeItem('AUTH_USER');
          window.location.href = '/admin/login.html';
        }
      } catch (error) {
        console.error('Auth check failed:', error);
        window.location.href = '/admin/login.html';
      }
    })();
  </script>

  <!-- Widget System JavaScript -->
  <script src="widget-system.js"></script>
  <!-- Admin Panel JavaScript -->
  <script src="admin.js"></script>
</body></html>
